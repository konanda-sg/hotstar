<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Live Stream Links</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(to right, #e0f2f1, #ffffff);
      padding: 40px 20px;
      margin: 0;
      color: #333;
    }

    .container {
      max-width: 800px;
      margin: auto;
    }

    .note {
      background-color: #fff3cd;
      border-left: 6px solid #ffca28;
      padding: 15px 20px;
      border-radius: 6px;
      font-size: 16px;
      margin-bottom: 25px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .search-box {
      width: 100%;
      padding: 12px 15px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-bottom: 25px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    .link-box {
      background-color: #ffffff;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .link-box:hover {
      transform: scale(1.02);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .link-box strong {
      font-size: 18px;
      display: block;
      margin-bottom: 10px;
      color: #00796b;
    }

    .copy-count {
      margin-top: 10px;
      font-size: 14px;
      color: #555;
    }

    button {
      background-color: #00796b;
      color: white;
      border: none;
      padding: 10px 15px;
      font-size: 14px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    button:hover {
      background-color: #004d40;
    }

    textarea.hidden {
      display: none;
    }

    .counter-box {
      margin: 20px 0;
      font-size: 14px;
      color: #444;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="note">
    <strong>Note:</strong> Use the copied link in <b>NS Player</b> or <b>Autholptv</b>.
  </div>

  <div class="counter-box">
    <div style="font-size: 13px; line-height: 1.4; color: #444;">
      <script type="text/javascript" src="//widget.supercounters.com/ssl/texthit.js"></script>
      <script type="text/javascript">
        var sc_texthit_var = sc_texthit_var || [];
        sc_text_hit(1714462, "Live", "444444");
      </script>
      <div>join <a href="https://t.me/vaathala" target="_blank" style="color: #00796b; text-decoration: none;">@vaathala</a></div>
    </div>
  </div>

  <input type="text" id="searchInput" class="search-box" placeholder="Search language..." onkeyup="filterLinks()">

  <div id="linksContainer">
    <!-- Dynamic links inserted here -->
  </div>
</div>

<script>
  const JSON_URL = 'https://od.lk/s/NjdfNDA0NTIxNTJf/raw.json';

  fetch(JSON_URL)
    .then(response => response.json())
    .then(json => {
      const container = document.getElementById('linksContainer');

      json.data.forEach((item, index) => {
        const id = `link${index}`;
        const linkBox = document.createElement('div');
        linkBox.className = 'link-box';
        linkBox.setAttribute('data-language', item.language.toLowerCase());

        linkBox.innerHTML = `
          <strong>${item.language}</strong>
          <textarea id="${id}" class="hidden" readonly>${item.url}</textarea>
          <button onclick="copyToClipboard('${id}')">Copy link (paste in NS Player or Autholptv)</button>
          <div class="copy-count" id="${id}_count"></div>
        `;

        container.appendChild(linkBox);
      });
    })
    .catch(error => {
      document.getElementById('linksContainer').innerHTML = '<p style="color: red;">Failed to load data.</p>';
      console.error('Error fetching JSON:', error);
    });

  function copyToClipboard(id) {
    const textarea = document.getElementById(id);
    navigator.clipboard.writeText(textarea.value)
      .then(() => alert('Link copied to clipboard'))
      .catch(err => alert('Failed to copy link: ' + err));

    const countDisplay = document.getElementById(`${id}_count`);
    countDisplay.textContent = 'Copied 1 time';
  }

  function filterLinks() {
    const input = document.getElementById('searchInput').value.toLowerCase();
    const boxes = document.querySelectorAll('.link-box');
    boxes.forEach(box => {
      const lang = box.getAttribute('data-language');
      box.style.display = lang.includes(input) ? '' : 'none';
    });
  }
</script>

</body>
</html>
